<!doctype html>
<html>

<head>

    <title>palindrom-polymer-client</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../palindrom-client.html">
    <script src="../../fast-json-patch/dist/fast-json-patch.min.js"></script>

    <link rel="import" href="../../paper-styles/demo-pages.html">
    <!-- mock server responses -->
    <script src="../../sinonjs/sinon.js"></script>
    <script src="mockServer.js"></script>
</head>

<body unresolved>
    <h1>Palindrom + Polymer</h1>
    <div class="horizontal-section-container">
        <dom-bind id="app">
            <template>
                <palindrom-client auto obj="{{model}}" remote-url="/palindrom"></palindrom-client>
                <dom-if if="{{!model}}" restamp>
                    <template>
                        <div>User data was not yet fetched from data</div>
                    </template>
                </dom-if>
                <dom-if if="{{model}}" restamp>
                    <template>
                        <h4>Welcome
                            <em>{{model.user.fullName}}</em>!</h4>

                        <p>
                            <label>First Name
                        <input type="text" value="{{model.user.firstName$::input}}">
                    </label>
                        </p>

                        <p>
                            <label>Last Name
                        <input type="text" value="{{model.user.lastName$::change}}">
                    </label>
                        </p>

                        <button value="{{model.user.resetNameClicked$::click}}" onclick="this.value = true">Replace with Newton!
            </template>
                </dom-if>
        </template>
        </dom-bind>
    </div>

    <script>
        var app = document.querySelector('#app');
        app.hasSubtitle = function (value) {
            return true;
        };
    </script>
</body>

</html>