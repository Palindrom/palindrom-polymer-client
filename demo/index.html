<!doctype html>
<html>

<head>

    <title>puppet-polymer-client</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../puppet-client.html">
    <link rel="import" href="../../paper-styles/demo-pages.html">
    <!-- mock server responses -->
    <script src="../../sinonjs/sinon.js"></script>
    <script src="mockServer.js"></script>
</head>

<body unresolved>
    <h1>PuppetJs + Polymer</h1>
    <div class="horizontal-section-container">
        <template is="dom-bind" id="app">
            <puppet-client auto obj="{{model}}" remote-url="/puppet"></puppet-client>
            <template is="dom-if" if="{{!model}}" restamp>
                <div>User data was not yet fetched from data</div>
            </template>
            <template is="dom-if" if="{{model}}" restamp>

                <h4>Welcome
                    <em>{{model.user.fullName}}</em>!</h4>

                <p>
                    <label>First Name
                        <input type="text" value="{{model.user.firstName$::input}}">
                    </label>
                </p>

                <p>
                    <label>Last Name
                        <input type="text" value="{{model.user.lastName$::change}}">
                    </label>
                </p>

                <button value="{{model.user.resetNameClicked$::click}}" onclick="this.value = true">Replace with Newton!</button>
            </template>

        </template>
    </div>

    <script>
        var app = document.querySelector('#app');
        app.hasSubtitle = function(value) {
            return true;
        };
    </script>
</body>

</html>
